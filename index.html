<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>فريق الأنيق </title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      color: #222;
      text-align: center;
      padding: 20px;
    }
    h1 { color: #5a2a83; }
    .logo { width: 120px; border-radius: 10px; }
    .images { display: flex; justify-content: center; gap: 10px; margin: 20px 0; flex-wrap: wrap; }
    .images img { width: 200px; height: auto; border-radius: 8px; }
    .players { margin-top: 30px; text-align: center; }
    table { margin: auto; border-collapse: collapse; width: 60%; max-width: 900px; }
    th, td { border: 1px solid #ccc; padding: 8px; }
    th { background-color: #ddd; }
    .contact { margin-top: 30px; font-size: 18px; }
    .insta-links a { display: block; margin: 5px; color: #833ab4; text-decoration: none; }

    .form-container {
      margin: 40px auto;
      padding: 20px;
      width: 320px;
      background-color: #fff;
      border: 2px solid #5a2a83;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .form-container input {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      font-size: 16px;
    }

    .form-container button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: #5a2a83;
      color: white;
      border: none;
      cursor: pointer;
    }

    .user-info { margin-top: 20px; font-size: 16px; color: #333; min-height: 24px; }

    /* responsiveness */
    @media (max-width: 600px) {
      table { width: 100%; }
      .images img { width: 140px; }
      .form-container { width: 90%; }
    }
  </style>
</head>
<body>

  <h1>⚽ فريق الأنيق </h1>
  <img src="88.jpg" alt="شعار الأنيق" class="logo">
  
  <p>
    يقود فريق الأنيق المدرب <strong>حيدر السراي</strong>، وقد تمكن من الوصول إلى <strong>أربع نهائيات</strong>...
  </p>

  <div class="images">
    <img src="1.jpg" alt="صورة 1">
    <img src="2.jpg" alt="صورة 2">
    <img src="3.jpg" alt="صورة 3">
    <img src="4.jpg" alt="صورة 4">
  </div>

  <div class="players">
    <h2>📋 أسماء اللاعبين وأرقامهم</h2>
    <table>
      <tr><th>الاسم</th><th>الرقم</th></tr>
      <tr><td>احمد احسان</td><td>97</td></tr>
      <tr><td>كرار</td><td>10</td></tr>
      <tr><td>يوسف عبد الواحد</td><td>4</td></tr>
      <tr><td>علي داود</td><td>3</td></tr>
      <tr><td>امير كرار</td><td>7</td></tr>
    </table>
  </div>

  <!-- ✅ جدول المباريات من Firebase -->
<div class="matches" style="margin-top: 40px;">
  <h2>📅 جدول المباريات</h2>
  <table id="matchesTable">
    <tr>
      <th>اليوم</th>
      <th>الملعب</th>
      <th>اللعبة</th>
      <th>الوقت</th>
      <th>المبلغ</th>
    </tr>
  </table>
</div>

<script type="module">
  // استيراد مكتبات Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

  // إعدادات Firebase الخاصة بك
  const firebaseConfig = {
    apiKey: "AIzaSyAkvx2qfs1vP9tpyChZJYsttT2OLFSqolg",
    authDomain: "alaniaq-98474.firebaseapp.com",
    databaseURL: "https://alaniaq-98474-default-rtdb.firebaseio.com",
    projectId: "alaniaq-98474",
    storageBucket: "alaniaq-98474.firebasestorage.app",
    messagingSenderId: "849600693135",
    appId: "1:849600693135:web:eb039d0c74adcd3a9541fa"
  };

  // تهيئة Firebase
  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);

  // جلب البيانات من المسار "matches"
  const matchesRef = ref(database, "matches");

  onValue(matchesRef, (snapshot) => {
    const table = document.getElementById("matchesTable");

    // مسح الصفوف السابقة مع الاحتفاظ بالرأس
    table.innerHTML = `
      <tr>
        <th>اليوم</th>
        <th>الملعب</th>
        <th>اللعبة</th>
        <th>الوقت</th>
        <th>المبلغ</th>
      </tr>
    `;

    snapshot.forEach((childSnapshot) => {
      const match = childSnapshot.val();
      const row = `
        <tr>
          <td>${match.day}</td>
          <td>${match.stadium}</td>
          <td>${match.game}</td>
          <td>${match.time}</td>
          <td>${match.price}</td>
        </tr>
      `;
      table.innerHTML += row;
    });
  });
</script>


  <div class="insta-links">
    <h3>📱 تابعونا على إنستغرام:</h3>
    <a href="https://instagram.com/al.aniaq_sport_" target="_blank">🔗 @al.aniaq_sport_</a>
    <a href="https://instagram.com/hhh.ri.18" target="_blank">🔗 @hhh.ri.18</a>
  </div>

  <div class="contact">
    <h3>📞 للتواصل :</h3>
    <p>رقم التواصل: <strong>+964 771 551 2965</strong></p>
  </div>

  <!-- ✅ نموذج الإدخال في أسفل الصفحة -->
  <div class="form-container">
    <h3>📝 أدخل اسمك ورقم هاتفك</h3>
    <input type="text" id="username" placeholder="الاسم" aria-label="الاسم">
    <input type="tel" id="phone" placeholder="رقم الهاتف" aria-label="رقم الهاتف">
    <button type="button" onclick="submitForm()">إرسال</button>

    <div class="user-info" id="userInfo"></div>
  </div>

  <script>
    function submitForm() {
      const name = document.getElementById('username').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const userInfo = document.getElementById('userInfo');

      // تحقق من الحقول الفارغة
      if (name === '' || phone === '') {
        userInfo.innerHTML = '<span style="color: #c62828;">يوجد خطأ: الرجاء إدخال الاسم ورقم الهاتف.</span>';
        return;
      }

      // تحقق مبسط لصيغة رقم الهاتف (اختياري، يقبل + ومسافات وواصل)
      const phoneRegex = /^\+?\d[\d\s\-]{6,19}$/;
      if (!phoneRegex.test(phone)) {
        userInfo.innerHTML = '<span style="color: #c62828;">رقم الهاتف غير صالح. تأكد من إدخال الأرقام بشكل صحيح.</span>';
        return;
      }

      // رسالة نجاح ومسح الحقول
      userInfo.innerHTML = `<span style="color: #2e7d32;">شكراً ${escapeHtml(name)} — تم استلام رقمك ${escapeHtml(phone)} وسنتواصل معك قريبًا.</span>`;
      document.getElementById('username').value = '';
      document.getElementById('phone').value = '';
    }

    // دالة بسيطة لتفادي حقن HTML عند عرض اسم/رقم المستخدم
    function escapeHtml(str) {
      return str.replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
    }
  </script>

</body>
</html>
