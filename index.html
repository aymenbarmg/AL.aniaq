</div>

  <script>
    // ✅ تحميل الإعدادات المخزنة
    document.addEventListener("DOMContentLoaded", () => {
      const savedName = localStorage.getItem("teamName");
      const savedDarkMode = localStorage.getItem("darkMode");

      if (savedName) {
        document.getElementById("teamName").textContent = savedName;
        document.getElementById("pageTitle").textContent = savedName;
      }
      if (savedDarkMode === "true") {
        document.body.classList.add("dark-mode");
      }
    });

    function changeTeamName() {
      const newName = prompt("أدخل اسم الفريق الجديد:");
      if (newName && newName.trim() !== "") {
        document.getElementById("teamName").textContent = newName;
        document.getElementById("pageTitle").textContent = newName;
        localStorage.setItem("teamName", newName);
      }
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
      localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
    }

    function submitForm() {
      const name = document.getElementById('username').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const userInfo = document.getElementById('userInfo');

      if (name === ''  phone === '') {
        userInfo.innerHTML = '<span style="color: #c62828;">الرجاء إدخال الاسم ورقم الهاتف.</span>';
        return;
      }
      const phoneRegex = /^\+?\d[\d\s\-]{6,19}$/;
      if (!phoneRegex.test(phone)) {
        userInfo.innerHTML = '<span style="color: #c62828;">رقم الهاتف غير صالح.</span>';
        return;
      }
      userInfo.innerHTML = <span style="color: #2e7d32;">شكراً ${escapeHtml(name)} — تم استلام رقمك ${escapeHtml(phone)}.</span>;
      document.getElementById('username').value = '';
      document.getElementById('phone').value = '';
    }
    function escapeHtml(str) {
      return str.replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
    }

    function toggleSettings() {
      const menu = document.getElementById('settingsMenu');
      menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
    }

    document.addEventListener('click', (event) => {
      const menu = document.getElementById('settingsMenu');
      const btn = document.querySelector('.settings-btn');
      if (!menu.contains(event.target) && !btn.contains(event.target)) {
        menu.style.display = 'none';
      }
    });
  </script>

</body>
</html>
